<!DOCTYPE html>
<html lang="hu">
<head>
  <meta charset="UTF-8">
  <title>Supabase kategória teszt</title>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
</head>
<body>
  <h1>Kategória teszt</h1>
  <select id="kategoria">
    <option>Várj, tölt...</option>
  </select>
  <script>
    const SUPABASE_URL = "https://cvcxdeunzlhcrayutuew.supabase.co";
    const SUPABASE_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImN2Y3hkZXVuemxoY3JheXV0dWV3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTIxNjgyMTQsImV4cCI6MjA2Nzc0NDIxNH0.mmp-rbNPxoPJmotz5NY5XLAwdhHBkvoDKQxY6V1iSbo";
    const supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);

    async function betoltKategoriak() {
      const select = document.getElementById("kategoria");
      select.innerHTML = "<option>Betöltés...</option>";
      const { data, error } = await supabase.from("kategoriak").select("*").order("id", { ascending: true });
      select.innerHTML = "";
      if (error) {
        select.innerHTML = "<option>HIBA! " + error.message + "</option>";
      } else if (data && data.length) {
        data.forEach(row => {
          let o = document.createElement("option");
          o.value = row.id;
          o.textContent = row.nev;
          select.appendChild(o);
        });
      } else {
        select.innerHTML = "<option>Nincs adat</option>";
      }
    }
    betoltKategoriak();
  </script>
</body>
</html>
